{"version":3,"sources":["assets/cropped-tbc.png","assets/copy.svg","assets/enjoy1.gif","assets/enjoy2.gif","assets/enjoy3.gif","assets/coffees/ethiopia.png","assets/coffees/volluto.png","assets/coffees/arpeggio.png","assets/coffees/capriccio.png","assets/coffees/vivalto.png","assets/bitcoin-studio-black-border.svg","components/PaymentModal.tsx","components/ErrorModal.tsx","components/NodeInfoModal.tsx","components/InvoiceSettledModal.tsx","hooks.ts","components/ProgressBar.tsx","components/ModalContainer.tsx","lib/api.ts","components/Home.tsx","components/Layout.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","PaymentModal","btcEurPrice","chosenCoffee","invoiceValue","paymentRequest","useContext","ModalContext","modalDispatch","useState","isCopyLinkActive","setIsCopyLinkActive","isOpenWalletLinkActive","setIsOpenWalletLinkActive","activateOpenWalletLink","useCallback","setTimeout","activateCopyLink","setClipboard","text","navigator","clipboard","writeText","then","log","info","catch","err","error","Row","noGutters","className","Col","xs","size","name","process","offset","value","toUpperCase","style","display","width","height","href","id","onClick","type","src","copy","alt","Button","outline","color","ErrorModal","isWsConnected","wsConnect","Alert","block","NodeInfoModal","nodeInfo","alias","public_key","sockets","socket","images","enjoy1","enjoy2","enjoy3","randomImage","Math","floor","random","length","InvoiceSettledModal","callback","delay","savedCallback","useRef","useEffect","current","clearTimeout","useTimeout","ProgressBar","progress","setProgress","seconds","setInterval","clearInterval","useInterval","prevState","Number","toFixed","debug","Progress","ModalContainer","modalBody","modalState","paymentModal","nodeInfoModal","invoiceSettled","errorModal","isModalOpen","modals","isOpen","Object","values","some","v","Modal","returnFocusAfterClose","toggle","data-testid","logo","ModalBody","Container","url","this","memo","request","wsUrl","replace","WebSocket","method","path","args","body","query","headers","Headers","append","JSON","stringify","undefined","fetch","res","a","ok","json","errBody","Error","errMsg","status","statusText","data","ethiopia","vivalto","capriccio","arpeggio","volluto","initialPaymentState","Home","setError","wsClientId","setBtcEurPrice","setInvoiceValue","setChosenCoffee","setPaymentRequest","btnNodes","Map","debouncedGeneratePaymentRequest","debounce","_chosenCoffee","_wsClientId","api","getPrice","prices","_btcEurPrice","EUR","invoiceAmount","generatePaymentRequest","message","leading","trailing","coffees","map","item","index","key","description","Array","from","_","i","intensity","tabIndex","ref","c","set","get","focus","forceFocus","Layout","children","rel","target","BitcoinStudioLogo","React","createContext","App","uiContent","setIsWsConnected","setWsClientId","setNodeInfo","modalReducer","state","action","useReducer","modalContext","getWebSocket","addEventListener","ev","readyState","currentTarget","warn","msg","parse","toString","getNodeInfo","Provider","Spinner","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","setLevel","ReactDOM","render","document","getElementById","URL","origin","response","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","registrationWaiting","waiting","postMessage","e"],"mappings":"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","file":"static/js/main.14305962.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/copy.863b1c6c.svg\";","module.exports = __webpack_public_path__ + \"static/media/enjoy1.ccd3a7c0.gif\";","module.exports = __webpack_public_path__ + \"static/media/enjoy2.357c2a1b.gif\";","module.exports = __webpack_public_path__ + \"static/media/enjoy3.f4fd12f4.gif\";","module.exports = __webpack_public_path__ + \"static/media/ethiopia.900153ef.png\";","module.exports = __webpack_public_path__ + \"static/media/volluto.6bb947be.png\";","module.exports = __webpack_public_path__ + \"static/media/arpeggio.7a65b849.png\";","module.exports = __webpack_public_path__ + \"static/media/capriccio.3840a31d.png\";","module.exports = __webpack_public_path__ + \"static/media/vivalto.c4615284.png\";","module.exports = __webpack_public_path__ + \"static/media/bitcoin-studio-black-border.ab347975.svg\";","import React, {useCallback, useContext, useState} from 'react'\nimport log from 'loglevel'\nimport {Button, Col, Row} from 'reactstrap'\nimport QRCode from 'qrcode.react'\nimport copy from '../assets/copy.svg'\nimport {ModalContext} from '../App'\n\ntype Props = Payment\n\nexport const PaymentModal: React.FC<Props> = (\n  {\n    btcEurPrice,\n    chosenCoffee,\n    invoiceValue,\n    paymentRequest,\n  },\n) => {\n  const [, modalDispatch] = useContext(ModalContext)\n\n  /**\n   * Used to toggle CSS class for 1 second\n   */\n  const [isCopyLinkActive, setIsCopyLinkActive] = useState(false)\n  const [isOpenWalletLinkActive, setIsOpenWalletLinkActive] = useState(false)\n  //\n  const activateOpenWalletLink = useCallback(() => {\n    setIsOpenWalletLinkActive(true)\n    setTimeout(() => {\n      setIsOpenWalletLinkActive(false)\n    }, 1000)\n  }, [setIsOpenWalletLinkActive])\n  const activateCopyLink = useCallback(() => {\n    setIsCopyLinkActive(true)\n    setTimeout(() => {\n      setIsCopyLinkActive(false)\n    }, 1000)\n  }, [setIsCopyLinkActive])\n\n  /**\n   * Copy Invoice To Clipboard\n   */\n  const setClipboard = useCallback((text) => {\n    navigator.clipboard.writeText(text)\n      .then(() => {\n        log.info('Invoice copied to clipboard')\n      })\n      .catch((err) => {\n        log.error('Invoice not copied to clipboard', err)\n      })\n  }, [])\n\n\n  return (\n    <>\n      <Row noGutters={true} className=\"invoiceInfo\">\n        <Col xs={{size: 6}} className=\"invoiceInfo-col1\">\n          <p>{chosenCoffee?.name}</p>\n        </Col>\n        {\n          process.env.REACT_APP_CURRENCY === '€' ? (\n            <Col xs={{size: 6}} className=\"invoiceInfo-col2\">\n              <p>{`${invoiceValue} Sats (${process.env.REACT_APP_PRICE} EUR)`}</p>\n              <p>\n                1 BTC =\n                {' '}\n                <span>\n                  {btcEurPrice}\n                </span>\n                {' '}\n                € (EUR)\n              </p>\n            </Col>\n          ) : (\n            <></>\n          )\n        }\n\n      </Row>\n      <Row noGutters={true}>\n        <Col xs={{size: 6, offset: 3}}>\n          <div className=\"qrcodeWrapper\">\n            <QRCode\n              name=\"payment request\"\n              value={paymentRequest ? paymentRequest.toUpperCase() : ''}\n              style={{display: 'block', width: '100%', height: 'auto'}}\n            />\n          </div>\n        </Col>\n      </Row>\n      <Row noGutters={true}>\n        <Col xs={{size: 12}}>\n          <h6>BOLT 11 INVOICE</h6>\n          <p className=\"monospace\">\n            {paymentRequest}\n          </p>\n        </Col>\n      </Row>\n\n      <Row noGutters={true}>\n        <a\n          className={`link monospace ${isOpenWalletLinkActive ? 'actionLinksClicked' : ''}`}\n          href={`lightning:${paymentRequest}`}\n          id=\"openWithWallet\"\n          onClick={() => activateOpenWalletLink()}\n        >\n          OPEN WITH YOUR WALLET\n        </a>\n        <button\n          className={`link link--btn monospace ${isCopyLinkActive ? 'actionLinksClicked' : ''}`}\n          id=\"copyIcon\"\n          onClick={() => {\n            setClipboard(paymentRequest)\n            activateCopyLink()\n          }}\n          type=\"button\"\n        >\n          <img src={copy} alt=\"copy icon\"/>\n          COPY\n        </button>\n      </Row>\n\n      <Row noGutters={true}>\n        <Col xs={{size: 12}}>\n          <Button\n            outline={true}\n            color=\"warning\"\n            onClick={() => {\n              modalDispatch('CLOSE_MODAL')\n            }}\n          >\n            Cancel Payment\n          </Button>\n        </Col>\n      </Row>\n      <Row noGutters={true}>\n        <Col xs={{size: 12}}>\n          <Button\n            outline={true}\n            color=\"info\"\n            onClick={() => modalDispatch('OPEN_NODE_INFO_MODAL')}\n          >\n            Node Info\n          </Button>\n        </Col>\n      </Row>\n    </>\n  )\n}\n","import React, {useContext} from 'react'\nimport {Alert, Button} from 'reactstrap'\nimport {ModalContext} from '../App'\n\ntype Props = {\n  error: App['error']\n  isWsConnected: App['isWsConnected']\n  wsConnect: () => void\n}\n\n/**\n * Display all errors in a modal\n */\nexport const ErrorModal: React.FC<Props> = ({error, isWsConnected, wsConnect}) => {\n  const [, modalDispatch] = useContext(ModalContext)\n\n  return (\n    <Alert className=\"error-modal\" color=\"danger\">\n      <h4 className=\"alert-heading\">Something went wrong!</h4>\n      <p className=\"error-modal__message\">\n        {error}\n      </p>\n\n      <Button\n        block={true}\n        outline={true}\n        color=\"danger\"\n        onClick={() => {\n          wsConnect()\n          if (isWsConnected) {\n            modalDispatch('CLOSE_MODAL')\n          }\n        }}\n      >\n        Try to reconnect\n      </Button>\n\n      <Button\n        block={true}\n        outline={true}\n        color=\"danger\"\n        onClick={() => modalDispatch('CLOSE_MODAL')}\n      >\n        Close\n      </Button>\n    </Alert>\n  )\n}\n","import React, {useContext} from 'react'\nimport {Button, Col, Row} from 'reactstrap'\nimport QRCode from 'qrcode.react'\nimport {ModalContext} from '../App'\n\ntype Props = {\n  nodeInfo: App['nodeInfo']\n}\n\nexport const NodeInfoModal: React.FC<Props> = ({nodeInfo}) => {\n  const [, modalDispatch] = useContext(ModalContext)\n\n  return (\n    <>\n      {\n        nodeInfo?.alias\n        && (\n          <Row noGutters={true}>\n            <Col xs={{size: 12}}>\n              <h6>Node Alias</h6>\n              <p className=\"monospace\">\n                {`${nodeInfo?.alias}`}\n              </p>\n            </Col>\n          </Row>\n        )\n      }\n\n      <Row noGutters={true}>\n        <Col xs={{size: 12}}>\n          <h6>Node ID</h6>\n          <p className=\"monospace\">\n            {`${nodeInfo?.public_key}@${nodeInfo?.sockets[0].socket}`}\n          </p>\n        </Col>\n      </Row>\n\n      <Row noGutters={true}>\n        <h6>Open A Direct Channel With This Node</h6>\n        <Col xs={{size: 6, offset: 3}}>\n          <div className=\"qrcodeWrapper\">\n            <QRCode\n              name=\"payment request\"\n              value={`${nodeInfo?.public_key}@${nodeInfo?.sockets[0].socket}`}\n              style={{display: 'block', width: '100%', height: 'auto'}}\n            />\n          </div>\n        </Col>\n      </Row>\n\n      <Row noGutters={true}>\n        <Col xs={{size: 12}}>\n          <Button\n            className=\"btn\"\n            color=\"info\"\n            outline={true}\n            onClick={() => modalDispatch('OPEN_PAYMENT_MODAL')}\n          >\n            Go Back\n          </Button>\n        </Col>\n      </Row>\n    </>\n  )\n}\n","import React, {useContext} from 'react'\nimport {Button} from 'reactstrap'\nimport enjoy1 from '../assets/enjoy1.gif'\nimport enjoy2 from '../assets/enjoy2.gif'\nimport enjoy3 from '../assets/enjoy3.gif'\nimport {ModalContext} from '../App'\nimport {useTimeout} from '../hooks'\n\nconst images = [enjoy1, enjoy2, enjoy3]\nconst randomImage = images[Math.floor(Math.random() * images.length)]\n\nexport const InvoiceSettledModal: React.FC = () => {\n  const [, modalDispatch] = useContext(ModalContext)\n\n  useTimeout(() => {\n    modalDispatch('CLOSE_MODAL')\n  }, 8000)\n\n  return (\n    <div className=\"invoice-settled\">\n      <h2>Enjoy Your Coffee!</h2>\n      <img className=\"invoice-settle__image\" src={randomImage} alt=\"enjoy\"/>\n      <Button\n        outline={true}\n        color=\"success\"\n        onClick={() => {\n          modalDispatch('CLOSE_MODAL')\n        }}\n      >\n        Close\n      </Button>\n    </div>\n  )\n}\n","// @ts-nocheck\n// Credits: Dan Abramov\n// https://overreacted.io/making-setinterval-declarative-with-react-hooks/\n// useInterval Hook sets up an interval and clears it after unmounting.\n// It’s a combo of setInterval and clearInterval tied to the component lifecycle.\n\nimport {useEffect, useRef} from 'react'\n\nexport function useInterval(callback, delay) {\n  const savedCallback = useRef(null)\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  // Set up the interval.\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    function tick() {\n      savedCallback.current()\n    }\n\n    if (delay !== null) {\n      const id = setInterval(tick, delay)\n      return () => clearInterval(id)\n    }\n  }, [delay])\n}\n\n\nexport function useTimeout(callback, delay) {\n  const savedCallback = useRef(null)\n\n  // Remember the latest callback.\n  useEffect(\n    () => {\n      savedCallback.current = callback\n    },\n    [callback],\n  )\n\n  // Set up the timeout.\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    function tick() {\n      savedCallback.current()\n    }\n\n    if (delay !== null) {\n      const id = setTimeout(tick, delay)\n      return () => clearTimeout(id)\n    }\n  }, [delay])\n}\n","import React, {useContext, useState} from 'react'\nimport log from 'loglevel'\nimport {Col, Progress} from 'reactstrap'\nimport {ModalContext} from '../App'\nimport {useInterval} from '../hooks'\n\n/**\n * Progress Bar\n * Increase by 5 every 5 seconds during 5 minutes (300 seconds)\n */\nexport const ProgressBar: React.FC = () => {\n  const [, modalDispatch] = useContext(ModalContext)\n  const [progress, setProgress] = useState(0)\n\n  let seconds: number = 0\n  useInterval(() => {\n    seconds += 1\n    setProgress((prevState) => prevState + Number((seconds / 3).toFixed(0)))\n    log.debug(`Waiting bar ${progress} %`)\n    if (progress >= 100) {\n      modalDispatch('CLOSE_MODAL')\n    }\n  }, 1000)\n\n  return (\n    <Col xs={{size: 12}} className=\"progressBar monospace\">\n      <Progress value={progress}>\n        <span className=\"progress-bar__text\">Awaiting Payment...</span>\n      </Progress>\n    </Col>\n  )\n}\n","import React, {useContext} from 'react'\nimport {Col, Container, Modal, ModalBody, Row} from 'reactstrap'\nimport logo from '../assets/cropped-tbc.png'\nimport {PaymentModal} from './PaymentModal'\nimport {ErrorModal} from './ErrorModal'\nimport {NodeInfoModal} from './NodeInfoModal'\nimport {InvoiceSettledModal} from './InvoiceSettledModal'\nimport {ModalContext} from '../App'\nimport {ProgressBar} from './ProgressBar'\n\ntype Props = Payment & {\n  nodeInfo: App['nodeInfo']\n  error: App['error']\n  isWsConnected: App['isWsConnected']\n  wsConnect: () => void\n}\n\n/**\n * Display the right modal screen based on state\n */\nexport const ModalContainer: React.FC<Props> = (\n  {\n    btcEurPrice,\n    chosenCoffee,\n    error,\n    invoiceValue,\n    isWsConnected,\n    nodeInfo,\n    paymentRequest,\n    wsConnect,\n  },\n) => {\n  let modalBody\n  const [modalState, modalDispatch] = useContext(ModalContext)\n\n  // Display Modals\n  switch (true) {\n    case modalState.paymentModal:\n      modalBody = (\n        <PaymentModal\n          btcEurPrice={btcEurPrice}\n          chosenCoffee={chosenCoffee}\n          invoiceValue={invoiceValue}\n          paymentRequest={paymentRequest}\n        />\n      )\n      break\n    case modalState.nodeInfoModal:\n      modalBody = (\n        <NodeInfoModal\n          nodeInfo={nodeInfo}\n        />\n      )\n      break\n    case modalState.invoiceSettled:\n      modalBody = <InvoiceSettledModal/>\n      break\n    case modalState.errorModal:\n      modalBody = (\n        <ErrorModal\n          error={error}\n          isWsConnected={isWsConnected}\n          wsConnect={wsConnect}\n        />\n      )\n      break\n    default:\n      modalBody = (\n        <PaymentModal\n          btcEurPrice={btcEurPrice}\n          chosenCoffee={chosenCoffee}\n          invoiceValue={invoiceValue}\n          paymentRequest={paymentRequest}\n        />\n      )\n  }\n\n  // Check if at least one modal screen should be open\n  const {isModalOpen, ...modals} = modalState\n  const isOpen = Object.values(modals)\n    .some((v) => v === true)\n\n  return (\n    <>\n      <Modal\n        className=\"app-modal\"\n        isOpen={isOpen}\n        returnFocusAfterClose={false}\n        toggle={() => {\n          modalDispatch('CLOSE_MODAL')\n        }}\n      >\n        <Row data-testid=\"app-modal__header\" noGutters={true}>\n          <Col xs={{size: 2}}>\n            <img src={logo} alt=\"logo\"/>\n          </Col>\n          <Col xs={{size: 10}} className=\"titleModal\">\n            <p id=\"dialogTitle\">Lightning Nespresso</p>\n          </Col>\n        </Row>\n\n        <ModalBody>\n          <Container>\n            {\n              (modalState.paymentModal || modalState.nodeInfoModal)\n              && (\n                <Row noGutters={true}>\n                  <ProgressBar/>\n                </Row>\n              )\n            }\n            {modalBody}\n          </Container>\n        </ModalBody>\n      </Modal>\n    </>\n  )\n}\n","import log from 'loglevel'\nimport {stringify} from 'query-string'\n\ntype ApiMethod = 'GET' | 'POST' | 'PUT' | 'DELETE'\n\nclass API {\n  url: string\n\n  constructor(url: string) {\n    this.url = url\n  }\n\n  // Public methods\n  generatePaymentRequest(memo: string, value: number) {\n    return this.request<{ paymentRequest: string; }>(\n      'POST',\n      '/generatePaymentRequest',\n      {memo, value},\n    )\n  }\n\n  getNodeInfo() {\n    // TODO: Figure out the right type\n    return this.request<any>(\n      'GET',\n      '/getNodeInfo',\n      {},\n    )\n  }\n\n  getPrice() {\n    return this.request<{ EUR: number }>(\n      'GET',\n      '/getPrice',\n      {},\n    )\n  }\n\n  // Establish websocket connection with server\n  getWebSocket() {\n    const wsUrl = this.url.replace('https', 'wss').replace('http', 'ws')\n    return new WebSocket(`${wsUrl}/ws`)\n  }\n\n  // Internal fetch function. Makes a request to the server, and either returns\n  // JSON parsed data from the request, or throws an error.\n  protected request<R extends object>(\n    method: ApiMethod,\n    path: string,\n    args?: object,\n  ): Promise<R> {\n    let body = null\n    let query = ''\n    const headers = new Headers()\n    headers.append('Accept', 'application/json')\n\n    if (method === 'POST' || method === 'PUT') {\n      body = JSON.stringify(args)\n      headers.append('Content-Type', 'application/json')\n    } else if (args !== undefined) {\n      // TS Still thinks it might be undefined(?)\n      query = `?${stringify(args as any)}`\n    }\n\n    return fetch(this.url + path + query, {\n      method,\n      headers,\n      body,\n    })\n      .then(async (res) => {\n        if (!res.ok) {\n          let errMsg\n          try {\n            const errBody = await res.json()\n            if (!errBody.error) throw new Error()\n            errMsg = errBody.error\n          } catch (err) {\n            throw new Error(`${res.status}: ${res.statusText}`)\n          }\n          throw new Error(errMsg)\n        }\n        return res.json()\n      })\n      .then((res) => res.data as R)\n      .catch((err) => {\n        log.error(`API error calling ${method} ${path}`, err)\n        throw err\n      })\n  }\n}\n\nexport default new API(process.env.REACT_APP_API_PATH as string)\n","import React, {Dispatch, SetStateAction, useContext, useEffect, useRef, useState} from 'react'\nimport log from 'loglevel'\nimport debounce from 'lodash.debounce'\nimport data from '../data.json'\nimport {ModalContainer} from './ModalContainer'\nimport api from '../lib/api'\nimport {ModalContext} from '../App'\nimport ethiopia from '../assets/coffees/ethiopia.png'\nimport volluto from '../assets/coffees/volluto.png'\nimport arpeggio from '../assets/coffees/arpeggio.png'\nimport capriccio from '../assets/coffees/capriccio.png'\nimport vivalto from '../assets/coffees/vivalto.png'\n\nconst images = [\n  ethiopia,\n  vivalto,\n  capriccio,\n  arpeggio,\n  volluto,\n]\n\nconst initialPaymentState = {\n  btcEurPriceInit: 0,\n  chosenCoffeeInit: {id: 0, name: ''},\n  invoiceValueInit: 0,\n  paymentRequestInit: '',\n  errorInit: '',\n}\n\ntype Props = {\n  error: App['error']\n  isWsConnected: App['isWsConnected']\n  nodeInfo: App['nodeInfo']\n  setError: Dispatch<SetStateAction<string>>\n  wsClientId: App['wsClientId']\n  wsConnect: () => void\n}\n\n/**\n * Home Screen - Choose Your Coffee\n */\nexport const Home: React.FC<Props> = (\n  {\n    error,\n    isWsConnected,\n    nodeInfo,\n    setError,\n    wsClientId,\n    wsConnect,\n  },\n) => {\n  const [modalState, modalDispatch] = useContext(ModalContext)\n\n  /**\n   * Payment logic\n   */\n  const [btcEurPrice, setBtcEurPrice] = useState<Payment['btcEurPrice']>(0)\n  const [invoiceValue, setInvoiceValue] = useState<Payment['invoiceValue']>(0)\n  const [chosenCoffee, setChosenCoffee] = useState<Payment['chosenCoffee']>(null)\n  const [paymentRequest, setPaymentRequest] = useState<Payment['paymentRequest']>(null)\n\n  // Handle payment\n  // ref has been necessary to force focus\n  // because Firefox and Safari on Mac don't give focus to btn on click...\n  // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus#Clicking_and_focus\n  const btnNodes: Map<number, any> = new Map()\n  const forceFocus = (index: number) => {\n    const node = btnNodes.get(index)\n    node.focus()\n  }\n  const debouncedGeneratePaymentRequest = useRef(\n    debounce(async (_chosenCoffee: Payment['chosenCoffee'], _wsClientId: string) => {\n      log.info('GENERATE PAYMENT REQUEST')\n      log.debug('chosenCoffee', _chosenCoffee)\n      setChosenCoffee(_chosenCoffee)\n\n      try {\n        log.debug(`Generate an invoice for ${_chosenCoffee?.name}, row ${_chosenCoffee?.id}`)\n        let invoiceAmount: number\n        if (process.env.REACT_APP_CURRENCY === '€') {\n          const prices = await api.getPrice()\n          const _btcEurPrice = Number((prices.EUR).toFixed(0))\n          setBtcEurPrice(_btcEurPrice)\n          log.debug('Price BTCEUR ', _btcEurPrice)\n\n          if (process.env.REACT_APP_TESTING === 'true') {\n            invoiceAmount = 1\n          } else {\n            invoiceAmount = Number(((Number(process.env.REACT_APP_PRICE) / _btcEurPrice) * 10 ** 8)\n              .toFixed(0))\n          }\n\n          log.debug('Invoice amount (sats) ', invoiceAmount)\n          if (invoiceAmount > 20000) {\n            log.error('invoiceAmount greater than 20 000 sats')\n            return\n          }\n        } else {\n          // Fiat amount\n          invoiceAmount = Number(process.env.REACT_APP_PRICE)\n        }\n        setInvoiceValue(invoiceAmount)\n\n        const memo = `#${_chosenCoffee?.id} ${_chosenCoffee?.name} - The Block / @${_wsClientId}`\n        const res = await api.generatePaymentRequest(memo, invoiceAmount)\n        setPaymentRequest(res.paymentRequest)\n        modalDispatch('OPEN_PAYMENT_MODAL')\n      } catch (err) {\n        log.error(err.message)\n        setError(\n          'Sorry, the application failed to generate your invoice. \\n'\n          + 'The merchant\\'s Bitcoin node seems unavailable.',\n        )\n        modalDispatch('OPEN_ERROR_MODAL')\n      }\n    }, 3000, {leading: true, trailing: false}),\n  ).current\n\n  // Clear all payment state when modal is close\n  useEffect(() => {\n    if (!modalState.isModalOpen) {\n      log.debug('EFFECT CLEAR STATE WHEN MODAL IS CLOSE')\n      // Payment\n      setBtcEurPrice(initialPaymentState.btcEurPriceInit)\n      setChosenCoffee(initialPaymentState.chosenCoffeeInit)\n      setInvoiceValue(initialPaymentState.invoiceValueInit)\n      setPaymentRequest(initialPaymentState.paymentRequestInit)\n      // Global\n      setError(initialPaymentState.errorInit)\n    }\n  }, [modalState.isModalOpen, setError])\n\n\n  /**\n   * Prepare UI components with data\n   */\n  const currency = process.env.REACT_APP_CURRENCY === 'sats' ? ' sats' : process.env.REACT_APP_CURRENCY\n\n  const coffees = data.map((item, index) => (\n    <div className=\"coffee\" key={item.name}>\n      <img src={images[index]} alt=\"Nespresso capsule\"/>\n      <h2>{item.name}</h2>\n      <p>{item.description}</p>\n      <div className=\"intensity\">\n        <p className=\"intensity__title\">Intensity</p>\n        <div className=\"intensity__squares\">\n          {Array.from(Array(12)).map((_, i) => (\n            <div\n              className={`intensity__square ${i + 1 <= item.intensity ? 'intensity__square-active' : ''}`}\n              // eslint-disable-next-line react/no-array-index-key\n              key={`intensity_${item.name}_${i}`}\n            />\n          ))}\n        </div>\n      </div>\n\n      <button\n        className=\"buttonBuy\"\n        tabIndex={index + 1}\n        key={`button_${item.name}`}\n        ref={(c) => btnNodes.set(index, c)}\n        type=\"button\"\n        onClick={() => {\n          forceFocus(index)\n          debouncedGeneratePaymentRequest({id: index + 1, name: item.name}, wsClientId)\n        }}\n      >\n        {`Buy for ${process.env.REACT_APP_PRICE}${currency}`}\n      </button>\n    </div>\n  ))\n\n  return (\n    <>\n      {coffees}\n\n      <ModalContainer\n        btcEurPrice={btcEurPrice}\n        chosenCoffee={chosenCoffee}\n        error={error}\n        isWsConnected={isWsConnected}\n        invoiceValue={invoiceValue}\n        nodeInfo={nodeInfo}\n        paymentRequest={paymentRequest}\n        wsConnect={wsConnect}\n      />\n    </>\n  )\n}\n","import React from 'react'\nimport BitcoinStudioLogo from '../assets/bitcoin-studio-black-border.svg'\n\nexport const Layout: React.FC = ({children}) => (\n  <>\n    <header>\n      <a href=\"https://www.bitcoin-studio.com\" rel=\"noopener noreferrer\" target=\"_blank\">\n        <img id=\"BitcoinStudioLogo\" src={BitcoinStudioLogo} alt=\"Bitcoin Studio Logo\"/>\n      </a>\n      <h1 className=\"header__title\">CHOOSE YOUR COFFEE</h1>\n    </header>\n\n    <main>\n      {children}\n    </main>\n\n    <footer>\n      <p>\n        Made By\n        {' '}\n        <a\n          href=\"https://www.bitcoin-studio.com\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n        >\n          Bitcoin Studio\n        </a>\n        {' '}\n        With Love ❤️\n      </p>\n    </footer>\n  </>\n)\n","import React, {useEffect, useState, useCallback, useReducer, Reducer} from 'react'\nimport {Spinner} from 'reactstrap'\nimport log from 'loglevel'\nimport {Home} from './components/Home'\nimport {Layout} from './components/Layout'\nimport api from './lib/api'\n\n// TODO: Find proper type for context of reducer\n// A known bug on Typescript Partial.\n// Values and functions from ModalContext get in addition to their type the type undefined\n// https://stackoverflow.com/questions/54489817/typescript-partialt-type-without-undefined\n// type ModalContext = Reducer<ModalState, ReducerAction<any>>\n// type ModalContext = Partial<Reducer<ModalState, ReducerAction<any>>>\ntype ModalContext = any\nexport const ModalContext = React.createContext<ModalContext>({})\n\nexport const App: React.FC = () => {\n  let uiContent\n  const [error, setError] = useState<App['error']>('')\n  // Server state\n  const [isWsConnected, setIsWsConnected] = useState<App['isWsConnected']>(false)\n  const [wsClientId, setWsClientId] = useState<App['wsClientId']>('')\n  const [nodeInfo, setNodeInfo] = useState<App['nodeInfo']>(null)\n\n  /**\n   * Manage Modal Screens\n   */\n  const modalInitialState = {\n    isModalOpen: false,\n    errorModal: false,\n    invoiceSettled: false,\n    nodeInfoModal: false,\n    paymentModal: false,\n  }\n\n  const modalReducer = useCallback((state: ModalState, action: string) => {\n    log.debug('prevState: ', state)\n    log.debug('action: ', action)\n    switch (action) {\n      case 'OPEN_ERROR_MODAL':\n        return {\n          isModalOpen: true,\n          errorModal: true,\n          invoiceSettled: false,\n          nodeInfoModal: false,\n          paymentModal: false,\n        }\n      case 'OPEN_NODE_INFO_MODAL':\n        return {\n          isModalOpen: true,\n          errorModal: false,\n          invoiceSettled: false,\n          nodeInfoModal: true,\n          paymentModal: false,\n        }\n      case 'OPEN_PAYMENT_MODAL':\n        return {\n          isModalOpen: true,\n          errorModal: false,\n          invoiceSettled: false,\n          nodeInfoModal: false,\n          paymentModal: true,\n        }\n      case 'OPEN_INVOICE_SETTLED_MODAL':\n        return {\n          isModalOpen: true,\n          errorModal: false,\n          invoiceSettled: true,\n          nodeInfoModal: false,\n          paymentModal: false,\n        }\n      case 'CLOSE_MODAL':\n        return {\n          isModalOpen: false,\n          errorModal: false,\n          invoiceSettled: false,\n          nodeInfoModal: false,\n          paymentModal: false,\n        }\n      default:\n        throw new Error(`Unexpected modal reducer action: ${action}`)\n    }\n  }, [])\n\n  const [modalState, modalDispatch] = useReducer<Reducer<ModalState, string>>(modalReducer, modalInitialState)\n  const modalContext = [modalState, modalDispatch]\n\n  /**\n   * Connect websocket\n   * Update state on new data or error\n   */\n  const wsConnect = useCallback(() => {\n    log.info('Establish websocket connection with the server...')\n    const socket = api.getWebSocket()\n\n    socket.addEventListener('open', (ev: Event) => {\n      setIsWsConnected(true)\n      const {readyState} = ev.currentTarget as any\n      log.info('Websocket connected to server successfully')\n      log.debug('readyState: ', readyState)\n    })\n\n    socket.addEventListener('message', (ev: MessageEvent) => {\n      try {\n        const {readyState} = ev.currentTarget as any\n        if (readyState !== 1) {\n          log.warn('Websocket not ready. readyState', readyState)\n          return\n        }\n        const msg: {type: string; data: any} = JSON.parse(ev.data.toString())\n\n        // Get client id\n        if (msg && msg.type === 'client-id') {\n          log.info('Websocket client ID is', msg.data)\n          setWsClientId(msg.data as string)\n        }\n        // Invoice settlement\n        if (msg && msg.type === 'invoice-settlement') {\n          log.info('Invoice settled!', msg.data as InvoiceEvent)\n          modalDispatch('OPEN_INVOICE_SETTLED_MODAL')\n        }\n        // Delivery failure\n        if (msg && msg.type === 'delivery-failure') {\n          log.error('delivery failure', msg.data as string)\n          setError('Sorry, we\\'re unable to deliver your coffee. Please check that the machine is properly connected')\n          modalDispatch('OPEN_ERROR_MODAL')\n        }\n        // Server/LND error\n        if (msg && msg.type === 'error') {\n          log.error('server/LND error', msg.data)\n          if (msg.data as number === 14) {\n            setError('Sorry, the Bitcoin node is unavailable.')\n          } else {\n            setError('Sorry, the server has an issue.')\n          }\n          modalDispatch('OPEN_ERROR_MODAL')\n        }\n      } catch (err) {\n        log.error('Websocket onmessage catch', err)\n      }\n    })\n\n    socket.addEventListener('close', (ev: CloseEvent) => {\n      log.warn('Websocket close event ', ev)\n      setError('The connection to the server has closed unexpectedly')\n      modalDispatch('OPEN_ERROR_MODAL')\n      const {readyState} = ev.currentTarget as any\n      log.debug('readyState: ', readyState)\n    })\n\n    socket.addEventListener('error', (ev: Event) => {\n      log.error('Websocket connection error', ev)\n      setError('Websocket connection error')\n      modalDispatch('OPEN_ERROR_MODAL')\n    })\n  }, [])\n\n  useEffect(() => {\n    log.debug('EFFECT WEBSOCKET CONNECTION')\n    wsConnect()\n    log.info('Ask server LND node info...')\n    api.getNodeInfo()\n      .then((info) => {\n        log.info('LND node info', info)\n        setNodeInfo(info)\n      })\n      .catch((err: Error) => {\n        log.error(err)\n      })\n  }, [wsConnect])\n\n\n  if (isWsConnected) {\n    uiContent = (\n      <ModalContext.Provider value={modalContext}>\n        <Home\n          error={error}\n          isWsConnected={isWsConnected}\n          nodeInfo={nodeInfo}\n          setError={setError}\n          wsClientId={wsClientId}\n          wsConnect={wsConnect}\n        />\n      </ModalContext.Provider>\n    )\n  } else {\n    uiContent = (\n      <div className=\"d-flex justify-content-center p-5 spinner-container\">\n        <Spinner color=\"warning\"/>\n      </div>\n    )\n  }\n\n  return (\n    <Layout>\n      {uiContent}\n    </Layout>\n  )\n}\n","/* eslint-disable */\nimport log from 'loglevel'\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          log.info(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              log.warn(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              log.debug('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      log.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      log.warn(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'bootstrap/dist/css/bootstrap.min.css'\nimport './style.scss'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport log from 'loglevel'\nimport {App} from './App'\nimport * as serviceWorker from './serviceWorker'\n\nif (process.env.NODE_ENV === 'production') {\n  log.setLevel('silent')\n} else {\n  log.setLevel('trace')\n  log.info('Looks like we are in development mode!')\n}\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nconst swConfig = {\n  onUpdate: (registration: ServiceWorkerRegistration) => {\n    const registrationWaiting = registration.waiting\n    if (registrationWaiting) {\n      registrationWaiting.postMessage({type: 'SKIP_WAITING'})\n      registrationWaiting.addEventListener('statechange', (e: any) => {\n        if (e?.target?.state === 'activated') {\n          window.location.reload()\n        }\n      })\n    }\n  }\n}\nserviceWorker.register(swConfig)\n"],"sourceRoot":""}